{"version":3,"sources":["demo/ManageData/ViewItem.js","service/data-service.js","env.js"],"names":["ViewItem","props","getFormattedObject","console","log","state","data","content","r","JSON","parse","err","success","error","findItemById","item","then","length","setState","className","this","variant","type","description","displayDataTypes","src","PureComponent","findItems","searchText","a","path","url","serviceUrl","fetch","res","json","id","deleteItemById","method","mode","saveItem","headers","Headers","body","stringify","moviesServiceUrl"],"mappings":"oMAKMA,E,kDACJ,WAAYC,GAAQ,IAAD,8BACpB,cAAMA,IAwBLC,mBAAqB,WACpBC,QAAQC,IAAI,OAAQ,EAAKC,MAAMC,MAC/B,IAAIC,EAAU,EAAKF,MAAMC,KAAKC,QAC9B,IACD,IAAIC,EAAIC,KAAKC,MAAMH,GACnB,GAAGC,GAAkB,kBAANA,EAEd,OADAL,QAAQC,IAAI,SAAUI,GACfA,EAEL,MAAMG,GACPR,QAAQC,IAAIO,GAEb,MAAO,CAAE,iBAAqBJ,IAlC7B,EAAKF,MAAQ,CACfO,QAAU,GACVC,MAAQ,IAETC,YAAab,EAAMc,MAAMC,MACxB,SAACV,GACGA,EAAKW,OAAO,EACd,EAAKC,SAAU,CACdZ,KAAOA,EAAK,GACZO,MAAQ,KAGT,EAAKK,SAAU,CAACL,MAAQ,yBAG1B,SAACF,GACA,EAAKO,SAAU,CAACL,MAAQ,yBAA0BF,OAnBhC,E,qDAyCjB,OACE,yBAAKQ,UAAU,QAEjBC,KAAKf,MAAMO,SACZ,kBAAC,IAAD,CAAOS,QAAQ,WACbD,KAAKf,MAAMO,SAGZQ,KAAKf,MAAMQ,OACZ,kBAAC,IAAD,CAAOQ,QAAQ,UACbD,KAAKf,MAAMQ,OAGZO,KAAKf,MAAMC,MACZ,oCACA,yBAAKa,UAAU,aACd,yBAAKA,UAAU,OAAf,UACSC,KAAKf,MAAMC,KAAKgB,MAEzB,yBAAKH,UAAU,OAAf,iBACgBC,KAAKf,MAAMC,KAAKiB,cAIjC,yBAAKJ,UAAU,QACf,kBAAC,IAAD,CAAWK,kBAAkB,EAAOC,IAAKL,KAAKlB,8B,GAnE1BwB,iBA2ER1B,a,6MCzER,SAAe2B,EAAtB,kC,4CAAO,WAAyBC,GAAzB,qBAAAC,EAAA,6DACL1B,QAAQC,IAAR,sBAA2BwB,IAEvBE,EAAO,SAAWF,EAAY,IAAIA,EAAa,IAC/CG,EAAMC,IAAaF,EAJlB,SAKWG,MAAMF,GALjB,cAKDG,EALC,gBAOYA,EAAIC,OAPhB,cAODA,EAPC,OAQLhC,QAAQC,IAAI0B,EAAM,OAAQK,GARrB,kBAUEA,GAVF,6C,sBAaA,SAAerB,EAAtB,kC,4CAAO,WAA4BsB,GAA5B,qBAAAP,EAAA,6DACL1B,QAAQC,IAAR,qBAA0BgC,IAEtBN,EAAO,SAAUM,EACjBL,EAAMC,IAAaF,EAJlB,SAKWG,MAAMF,GALjB,cAKDG,EALC,gBAOYA,EAAIC,OAPhB,cAODA,EAPC,OAQLhC,QAAQC,IAAI0B,EAAM,OAAQK,GARrB,kBAUEA,GAVF,6C,sBAcA,SAAeE,EAAtB,kC,4CAAO,WAA8BD,GAA9B,qBAAAP,EAAA,6DACL1B,QAAQC,IAAR,uBAA4BgC,IAExBN,EAAO,SAAUM,EAAI,UACrBL,EAAMC,IAAaF,EAJlB,SAKWG,MAAMF,EAAK,CACzBO,OAAQ,SACRC,KAAM,SAPH,cAKDL,EALC,gBAUYA,EAAIC,OAVhB,cAUDA,EAVC,OAWLhC,QAAQC,IAAI0B,EAAM,OAAQK,GAXrB,kBAaEA,GAbF,6C,sBAkBA,SAAeK,EAAtB,kC,4CAAO,WAAwBzB,GAAxB,qBAAAc,EAAA,6DACL1B,QAAQC,IAAR,OAAoBW,GAEhBe,EAAO,aACPC,EAAMC,IAAaF,EAJlB,SAKWG,MAAMF,EAAM,CAC1BO,OAAQ,OACRG,QAAS,IAAIC,QAAQ,CACnB,eAAgB,qBAElBC,KAAMlC,KAAKmC,UAAU7B,KAVlB,cAKDmB,EALC,gBAaYA,EAAIC,OAbhB,cAaDA,EAbC,OAcLhC,QAAQC,IAAI0B,EAAM,OAAQK,GAdrB,kBAgBEA,GAhBF,6C,wDClDP,oEAAO,IAAIH,EACN,gCAGMa,EACN","file":"static/js/16.b5ad5ab4.chunk.js","sourcesContent":["import React, { PureComponent } from \"react\";\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport ReactJson from 'react-json-view';\r\nimport { findItemById } from '../../service/data-service';\r\n\r\nclass ViewItem extends PureComponent {\r\n  constructor(props) {\r\n\tsuper(props);\r\n\t// item id : props.item \r\n    this.state = {\r\n\t\tsuccess : '',\r\n\t\terror : ''\r\n\t};\r\n\tfindItemById(props.item).then(\r\n\t\t(data) => {\r\n\t\t\tif(data.length>0) {\r\n\t\t\t\tthis.setState( {\r\n\t\t\t\t\tdata : data[0],\r\n\t\t\t\t\terror : ''\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState( {error : 'Error : not found'});\r\n\t\t\t}\r\n\t\t}, \r\n\t\t(err) => {\r\n\t\t\tthis.setState( {error : 'Error while loading : ' +err});\r\n\t\t}\r\n\t);\r\n  }\r\n\r\n\r\n  getFormattedObject = () => {\r\n\t  console.log('data', this.state.data);\r\n\t  let content = this.state.data.content;\r\n\t  try {\r\n\t\tlet r = JSON.parse(content);\r\n\t\tif(r && typeof r === 'object') {\r\n\t\t\tconsole.log('result', r);\r\n\t\t\treturn r;\r\n\t\t}\r\n\t  } catch(err) {\r\n\t\t  console.log(err);\r\n\t  }\r\n\t  return { \"content_non_json\" : content };\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"px-2\" >\r\n\r\n\t\t{ this.state.success &&\r\n\t\t\t<Alert variant='success' >\r\n\t\t\t\t{this.state.success}\r\n\t\t\t</Alert>\r\n\t\t}\r\n\t\t{ this.state.error &&\r\n\t\t\t<Alert variant='danger' >\r\n\t\t\t\t{this.state.error}\r\n\t\t\t</Alert>\r\n\t\t}\r\n\t\t{ this.state.data && \r\n\t\t\t<>\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\tType : {this.state.data.type}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\tDescription : {this.state.data.description}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"py-2\" >\r\n\t\t\t<ReactJson displayDataTypes={false} src={this.getFormattedObject()} />\r\n\t\t\t</div>\r\n\t\t\t</>\r\n  \t\t}\r\n      </div>\r\n    );\r\n  }\r\n};\r\nexport default ViewItem;","import {serviceUrl} from '../env.js';\n\n\n\n/**\n * ex searchText='type=FORM'\n */\nexport async function findItems(searchText) {\n  console.log(`filter with ${searchText}`);\n\n  let path = 'items' + (searchText? '?'+searchText : '');\n  let url = serviceUrl + path;\n  let res = await fetch(url);\n\n  let json = await res.json();\n  console.log(path +' => ', json);\n\n  return json;\n};\n\nexport async function findItemById(id) {\n  console.log(`find by id ${id}`);\n\n  let path = 'items/' +id;\n  let url = serviceUrl + path;\n  let res = await fetch(url);\n\n  let json = await res.json();\n  console.log(path +' => ', json);\n\n  return json;\n};\n\n\nexport async function deleteItemById(id) {\n  console.log(`delete by id ${id}`);\n\n  let path = 'items/' +id+ '/delete';\n  let url = serviceUrl + path;\n  let res = await fetch(url, {\n    method: 'DELETE',\n    mode: 'cors',\n  });\n\n  let json = await res.json();\n  console.log(path +' => ', json);\n\n  return json;\n};\n\n\n\nexport async function saveItem(item) {\n  console.log(`save`, item);\n\n  let path = 'items/save';\n  let url = serviceUrl + path;\n  let res = await fetch(url,  {\n    method: 'POST',\n    headers: new Headers({\n      \"Content-Type\": \"application/json\",\n    }),\n    body: JSON.stringify(item)\n  });\n\n  let json = await res.json();\n  console.log(path +' => ', json);\n\n  return json;\n};\n\n\n\n\n\n","\r\n\r\nexport var serviceUrl =   // 'http://localhost:1234/'; \r\n     'https://generic-db.glitch.me/';\r\n\r\n\r\nexport var moviesServiceUrl =   // 'http://localhost:1234/api/movies'; \r\n     'https://verceltest-smoky.now.sh/api/movies';\r\n"],"sourceRoot":""}