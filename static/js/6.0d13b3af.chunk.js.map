{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","service/data-service.js","env.js","demo/Alert/AutoFocusAlert.js","demo/DynamicForm/DynamicFormChild.js","demo/DynamicForm/EditCustomForm.js","demo/DynamicForm/SchemaForm.js","demo/Modal/ConfirmModal.js","demo/ManageData/ViewItem.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","demo/EditRawJson/EditRawJson.js","../node_modules/react-bootstrap/esm/Table.js","demo/ManageData/ManageList.js"],"names":["_arrayLikeToArray","arr","len","length","i","arr2","Array","_slicedToArray","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","err","o","minLen","n","prototype","toString","call","slice","constructor","name","from","test","TypeError","findItems","searchText","a","console","log","path","url","serviceUrl","fetch","res","json","findItemById","id","deleteItemById","method","mode","saveItem","item","headers","Headers","body","JSON","stringify","formatJson","content","obj","parse","jsonInvalide","nonJsonData","getTimeStamp","format","mm","d","Date","getMonth","dd","getDate","hh","getHours","mi","getMinutes","ss","getSeconds","getFullYear","join","AutoFocusAlert","props","refAlert","React","createRef","this","scrollToVisible","alert","current","scrollIntoView","variant","alertVariant","ref","PureComponent","DynamicFormChild","refreshCount","schema","onSubmit","onError","formData","showErrorList","EditCustomForm","prefillForm","then","listResult","chg","entries","k","v","dataToSave","dataForRJSF","adaptFormDefinition","type","setState","Promise","reject","loadSchema","form","SchemaForm","resolve","description","properties","showError","showWarn","msg","showSuccess","ready","showInfo","handleFormChange","ev","change","target","data","transformToSave","state","status","message","callbackRefresh","listFields","assign","required","forEach","propOriginal","prop","fieldName","booleanRequired","enum","enumValues","split","s","trim","jsonOriginal","getOwnPropertyNames","includes","e","stack","varient","idReadOnly","Boolean","param","catch","suggestedId","initialDescription","initialData","className","Prepend","Text","Control","placeholder","onChange","aria-describedby","disabled","displayDataTypes","src","collapsed","dependencies","title","ConfirmModal","show","onHide","handleClose","animation","size","backdrop","Header","closeButton","Title","Body","children","handleConfirm","Footer","onClick","ViewItem","getFormattedObject","r","success","error","_defineProperty","key","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","apply","EditRawJson","save","formattedObject","adjustRows","str","lines","Math","min","itemId","arguments","source","getOwnPropertyDescriptors","defineProperties","objectType","Form","InputGroup","Group","controlId","Label","as","rows","Button","Table","forwardRef","_ref","bsPrefix","striped","bordered","borderless","hover","responsive","_objectWithoutPropertiesLoose","decoratedBsPrefix","useBootstrapPrefix","classes","classNames","table","createElement","_extends","responsiveClass","ManageList","refresh","sort","b","localeCompare","notifyResultList","askConfirmDelete","itemToDelete","confirmDelete","cancelDelete","itemToShow","editCustomForm","customFormParam","editRawJson","itemToEditAsRawJson","needRefresh","notifyRefresh","conditionalRefresh","prevProps","Alert","showType","map","icons","plus","gear","memo","pencil","magnifyingGlass","wastebasket"],"mappings":"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","file":"static/js/6.0d13b3af.chunk.js","sourcesContent":["export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import {serviceUrl} from '../env.js';\n\n\n\n/**\n * ex searchText='type=FORM'\n */\nexport async function findItems(searchText) {\n  console.log(`filter with ${searchText}`);\n\n  let path = 'items' + (searchText? '?'+searchText : '');\n  let url = serviceUrl + path;\n  let res = await fetch(url);\n\n  let json = await res.json();\n  console.log(path +' => ', json);\n\n  return json;\n};\n\nexport async function findItemById(id) {\n  console.log(`find by id ${id}`);\n\n  let path = 'items/' +id;\n  let url = serviceUrl + path;\n  let res = await fetch(url);\n\n  let json = await res.json();\n  console.log(path +' => ', json);\n\n  return json;\n};\n\n\nexport async function deleteItemById(id) {\n  console.log(`delete by id ${id}`);\n\n  let path = 'items/' +id+ '/delete';\n  let url = serviceUrl + path;\n  let res = await fetch(url, {\n    method: 'DELETE',\n    mode: 'cors',\n  });\n\n  let json = await res.json();\n  console.log(path +' => ', json);\n\n  return json;\n};\n\n\n\nexport async function saveItem(item) {\n  console.log(`save`, item);\n\n  let path = 'items/save';\n  let url = serviceUrl + path;\n  let res = await fetch(url,  {\n    method: 'POST',\n    headers: new Headers({\n      \"Content-Type\": \"application/json\",\n    }),\n    body: JSON.stringify(item)\n  });\n\n  let json = await res.json();\n  console.log(path +' => ', json);\n\n  return json;\n};\n\n\nexport function formatJson(content) {\n\t  let obj;\n\t  if(!content) {\n\t\t  return null;\n\t  }\n\t  try {\n\t\t  obj = JSON.parse(content);\n\t  } catch(err) {\n\t\t  console.log('json invalide', err);\n\t\t  obj = {\n\t\t\t  jsonInvalide : (''+err)\n\t\t  };\n\t  }\n\t  console.log('formatJson', obj);\n\t  return (typeof obj === 'object')? obj : {\n\t\t  nonJsonData : ''+obj\n\t  };\n  };\n\nexport function getTimeStamp() {\n\t\tlet format = (mm) => (mm>9 ? '' : '0') + mm;\n\t\tlet d = new Date();\n\t\tvar mm = d.getMonth() + 1; // getMonth() is zero-based\n\t\tvar dd = format(d.getDate());\n\t\tvar hh = format(d.getHours());\n\t\tvar mi = format(d.getMinutes());\n\t\tvar ss = format(d.getSeconds());\n\t\treturn [d.getFullYear(),\n\t\t\t\tmm,\n\t\t\t\tdd,\n\t\t\t\t'_',\n\t\t\t\thh,\n\t\t\t\tmi,\n\t\t\t\tss,\n\t\t\t\t].join('')\n\t};\n","\r\n\r\nexport var serviceUrl =   // 'http://localhost:1234/'; \r\n     'https://generic-db.glitch.me/';\r\n","import React, { PureComponent } from \"react\";\r\nimport Alert from 'react-bootstrap/Alert';\r\n\r\nclass AutoFocusAlert extends PureComponent {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.refAlert = React.createRef();    \r\n  }\r\n  componentDidMount() {\r\n    this.scrollToVisible(); \r\n  }\r\n  componentDidUpdate() {\r\n    this.scrollToVisible();\r\n  }\r\n\r\n  scrollToVisible() {\r\n    if(this.props.alert && this.refAlert) {\r\n\t\t\tthis.refAlert.current.scrollIntoView();\r\n\t\t\t// console.log('scrollIntoView', this.refAlert.current);\r\n\t\t}\r\n  }\r\n\r\n\r\n  render() {\r\n    return \t<>\t\t\r\n      { this.props.alert &&\r\n\t\t\t\t<Alert variant={this.props.alertVariant} ref={this.refAlert} >\r\n\t\t\t\t\t{this.props.alert}\r\n\t\t\t\t</Alert>\r\n\t\t\t}\r\n      </>;\r\n  }\r\n}\r\nexport default AutoFocusAlert;\r\n  \r\n  ","import React, { PureComponent } from \"react\";\r\nimport CustomForm from \"@rjsf/core\";\r\n\r\nclass DynamicFormChild extends PureComponent {\r\n\r\n  constructor(props) {\r\n\t  super(props);\r\n\t  this.refreshCount = 0;\r\n  }\r\n\r\n  render() {\r\n\tthis.refreshCount++;\r\n\tconsole.log('DynamicFormChild render', this.refreshCount);\r\n\r\n\treturn (\r\n\t\t\t\t\t\t<CustomForm schema={this.props.schema}\r\n\t\t\t\t\t\t\t\tonSubmit={this.props.onSubmit}\r\n\t\t\t\t\t\t\t\tonError={this.props.onError} \r\n\t\t\t\t\t\t\t\tformData={this.props.formData}\r\n\t\t\t\t\t\t\t\tshowErrorList={false} \t>\r\n\t\t\t\t\t\t</CustomForm>\r\n\t);\r\n  }\r\n\r\n}\r\n\r\nexport default DynamicFormChild;","import React, { PureComponent } from \"react\";\r\nimport Form from 'react-bootstrap/Form';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport AutoFocusAlert from '../Alert/AutoFocusAlert';\r\nimport ReactJson from 'react-json-view';\r\nimport { findItemById, saveItem, formatJson } from '../../service/data-service';\r\nimport DynamicFormChild from './DynamicFormChild';\r\nimport SchemaForm from './SchemaForm';\r\n\r\nclass EditCustomForm extends PureComponent {\r\n\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t// item id : props.item \r\n\t\tthis.state = {\r\n\t\t\talert : 'Loading...',\r\n\t\t\tvarient : 'info'\r\n\t\t};\r\n\t\tthis.idReadOnly = Boolean(props.param.id);\r\n\t\tthis.dataForRJSF = {};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t// the call 'setState' is available after 'mount.\r\n\t\tif(this.props.param.id) {\r\n\t\t\tconsole.log('create an prefield form');\r\n\t\t\tthis.prefillForm(this.props.param.id)\r\n\t\t\t.then(()=> { \r\n\t\t\t\tthis.showSuccess()\r\n\t\t\t}).catch((e)=> this.showError('Error while loading : '+e));\r\n\t\t} else {\r\n\t\t\tconsole.log('create an empty form');\r\n\t\t\tthis.loadSchema(this.props.param.form)\r\n\t\t\t.then((form)=> {\r\n\t\t\t\tthis.setState({ \r\n\t\t\t\t\tid : this.props.param.suggestedId,\r\n\t\t\t\t\ttype : form.id,\r\n\t\t\t\t\tdescription : this.props.param.initialDescription? this.props.param.initialDescription : null,\r\n\t\t\t\t\tdataToSave : this.props.param.initialData? this.props.param.initialData : null \r\n\t\t\t\t});\r\n\t\t\t\tthis.dataForRJSF = this.adaptFormDefinition(this.props.param.initialData, form.id);\r\n\t\t\t\treturn this.showSuccess();\r\n\t\t\t})\r\n\t\t\t.catch((e)=> {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tthis.showError('Error while loading : '+e)} );\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n   prefillForm = async (id) => {\r\n\t\treturn findItemById(id).then(\r\n\t\t\t\t(listResult) => {\r\n\t\t\t\t\tif(listResult.length>0) {\r\n\t\t\t\t\t\tlet item = listResult[0];\r\n\t\t\t\t\t\tlet chg = {};\r\n\t\t\t\t\t\tfor (let [k, v] of Object.entries(item)) {\r\n\t\t\t\t\t\t\tif(k==='content') {\r\n\t\t\t\t\t\t\t\tlet d = formatJson(v);\r\n\t\t\t\t\t\t\t\tchg.dataToSave = d;\r\n\t\t\t\t\t\t\t\tthis.dataForRJSF = this.adaptFormDefinition(d, item.type);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tchg[k] = v;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log('setState',chg);\r\n\t\t\t\t\t\tthis.setState(chg);\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn Promise.reject(`ID ${id} not found `);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t).then(\r\n\t\t\t(item) => this.loadSchema(item.type)\r\n\t\t);\r\n\t};\r\n\r\n\tloadSchema = async (form) => {\r\n\t\tif(form === 'FORM') {\r\n\t\t\tthis.setState({schema : SchemaForm});\r\n\t\t\tconsole.log('use SchemaForm', SchemaForm);\r\n\t\t\treturn Promise.resolve({id:'FORM', description:'meta schema', schema : SchemaForm });\r\n\t\t}\r\n\t\treturn findItemById(form).then(\r\n\t\t\t\t(listResult) => {\r\n\t\t\t\t\tif(listResult.length>0) {\r\n\t\t\t\t\t\tlet item = listResult[0];\r\n\t\t\t\t\t\tif(item.type!=='FORM') {\r\n\t\t\t\t\t\t\treturn Promise.reject(`Object ID ${form} must be of type FORM (found ${item.type})`);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlet schema = formatJson(item.content);\r\n\t\t\t\t\t\tif(!schema || !schema.properties) {\r\n\t\t\t\t\t\t\treturn Promise.reject(`Form '${form}' has invalide schema (found ${item.content})`);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.setState({schema});\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn Promise.reject(`Form '${form}' not found `);\r\n\t\t\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\r\n\tshowError = (err) => {\r\n\t\t\tthis.setState({ alert: err, alertVariant : 'danger'});\r\n\t};\r\n\tshowWarn = (msg) => {\r\n\t\t\tthis.setState({ alert: msg, alertVariant : 'warning' });\r\n\t};\r\n\tshowSuccess = (msg) => {\r\n\t\t\tthis.setState({ alert: msg, alertVariant : 'success', ready : true});\r\n\t};\r\n\tshowInfo = (msg) => {\r\n\t\t\tthis.setState({  alert: msg, alertVariant : 'info' });\r\n\t};\r\n\r\n\thandleFormChange = (ev) => {\r\n\t\tlet change = {};\r\n\t\tchange[ev.target.name] = ev.target.value;\r\n\t\tthis.setState(change);\r\n\t\t// console.log('handleFormChange', change);\r\n\t};\r\n\r\n\t\r\n    onSubmit = async (data) => {\r\n\t\ttry {\r\n\t\t\tconsole.log('submit', data);\r\n\t\t\tthis.showInfo('Saving...');\r\n\t\t\tlet dataToSave = this.transformToSave(data.formData);\r\n\t\t\tthis.setState({dataToSave});\r\n\t\t\tlet content = JSON.stringify(dataToSave, null, ' ');\r\n\t\t\tlet res = await saveItem({\r\n\t\t\t\tid : this.state.id,\r\n\t\t\t\ttype : this.state.type,\r\n\t\t\t\tdescription : this.state.description,\r\n\t\t\t\tcontent : content\r\n\t\t\t});\r\n\t\t\t// console.log('result', res);\r\n\t\t\tif(res.status==='OK') {\r\n\t\t\t\tthis.showSuccess(res.message);\r\n\t\t\t} else {\r\n\t\t\t\tthis.showError(res.message);\r\n\t\t\t}\r\n\t\t\tif(res.status==='OK' && this.props.callbackRefresh) {\r\n\t\t\t\tthis.props.callbackRefresh();\r\n\t\t\t}\r\n\t\t} catch(err) {\r\n\t\t\tconsole.log(err);\r\n\t\t\tthis.showError('' +err);\r\n\t\t}\r\n\r\n\t};\r\n\r\n\ttransformToSave = (json) => {\r\n\t\tif(this.state.type!=='FORM') {\r\n\t\t\treturn json;\r\n\t\t}\r\n\t\t// transform 'listFields' to 'properties'\r\n\t\tif(!json.listFields) {\r\n\t\t\treturn json;\r\n\t\t}\r\n\t\tjson = Object.assign({}, json);\r\n\t\tjson.type = 'object';\r\n\t\tjson.properties = {};\r\n\t\tjson.required = [];\r\n\t\tjson.listFields.forEach( (propOriginal, i) => {\r\n\t\t\tlet prop = Object.assign({}, propOriginal);\r\n\t\t\tjson.properties[prop.fieldName] = prop;\r\n\t\t\tif(prop.booleanRequired) {\r\n\t\t\t\tjson.required.push(prop.fieldName);\r\n\t\t\t}\r\n\t\t\tdelete prop.fieldName;\r\n\t\t\tif(prop.type==='date') {\r\n\t\t\t\tprop.type = 'string';\r\n\t\t\t\tprop.format = 'date';\r\n\t\t\t} else if(prop.type==='enum') {\r\n\t\t\t\tdelete prop.type;\r\n\t\t\t\tprop.enum = [];\r\n\t\t\t\tif(prop.enumValues) {\r\n\t\t\t\t\t//console.log('prop.enumValues', prop.enumValues);\r\n\t\t\t\t\tprop.enumValues.split(',').forEach(\r\n\t\t\t\t\t\t(s) => {\r\n\t\t\t\t\t\t\tprop.enum.push(s.trim());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t\tdelete prop.enumValues;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tdelete json.listFields;\r\n\t\tconsole.log('transformToSave', json);\r\n\t\treturn json\r\n\t}\r\n\r\n\tadaptFormDefinition = (jsonOriginal, type) => {\r\n\t\tif(!jsonOriginal) {\r\n\t\t\treturn {};\r\n\t\t}\r\n\t\tif(type!=='FORM') {\r\n\t\t\treturn jsonOriginal;\r\n\t\t}\r\n\t\tlet json = Object.assign({},jsonOriginal);\r\n\t\t// transform 'listFields' to 'properties'\r\n\t\tif(!json.properties) {\r\n\t\t\treturn json;\r\n\t\t}\r\n\t\tjson.listFields = [];\r\n\t\tObject.getOwnPropertyNames(json.properties).forEach( (v, i) => {\r\n\t\t\tlet prop = json.properties[v];\r\n\t\t\tprop.fieldName = v;\r\n\t\t\tif(prop.format==='date') {\r\n\t\t\t\tprop.type = 'date';\r\n\t\t\t\tdelete prop.format;\r\n\t\t\t} else if(prop.enum) {\r\n\t\t\t\tprop.type = 'enum';\r\n\t\t\t\tprop.enumValues = prop.enum.join(', ');\r\n\t\t\t\tdelete prop.enum;\r\n\t\t\t}\r\n\t\t\tif(json.required && json.required.includes(v)) {\r\n\t\t\t\tprop.booleanRequired = true;\r\n\t\t\t}\r\n\t\t\tjson.listFields.push(prop);\r\n\t\t});\r\n\t\tdelete json.properties;\r\n\t\tconsole.log('adaptFormDefinition', jsonOriginal, json);\r\n\t\treturn json\r\n\t}\r\n\r\n    onError = (e) => {\r\n\t\tthis.showWarn(`Problem with a form? \r\n\t\t\t${(e && e[0] && e[0].stack)? e[0].stack : ''}` );\r\n\t\tconsole.log('Form error', e);\r\n\t};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  \trender() {\r\n\r\n\t\treturn ( <div className=\"px-2\" >\r\n\r\n\t\t\t<AutoFocusAlert alert={this.state.alert} alertVariant={this.state.alertVariant} >\r\n\t\t\t</AutoFocusAlert>\r\n\r\n\t\t\t{ this.state.ready &&\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<InputGroup className=\"mb-3\">\r\n\t\t\t\t\t\t\t<InputGroup.Prepend>\r\n\t\t\t\t\t\t\t<InputGroup.Text id=\"fieldLabel-id\">Unique ID</InputGroup.Text>\r\n\t\t\t\t\t\t\t</InputGroup.Prepend>\r\n\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\tname=\"id\"\r\n\t\t\t\t\t\t\t\tvalue={this.state.id}\r\n\t\t\t\t\t\t\t\tplaceholder=\"required\"\r\n\t\t\t\t\t\t\t\tonChange={this.handleFormChange}\r\n\t\t\t\t\t\t\t\taria-describedby=\"fieldLabel-id\"\r\n\t\t\t\t\t\t\t\tdisabled={Boolean(this.idReadOnly)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</InputGroup>\r\n\r\n\t\t\t\t\t\t<InputGroup className=\"mb-3\">\r\n\t\t\t\t\t\t\t<InputGroup.Prepend> \r\n\t\t\t\t\t\t\t<InputGroup.Text id=\"fieldLabel-type\">Type</InputGroup.Text>\r\n\t\t\t\t\t\t\t</InputGroup.Prepend>\r\n\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\tname=\"type\"\r\n\t\t\t\t\t\t\t\tvalue={this.state.type}\r\n\t\t\t\t\t\t\t\taria-describedby=\"fieldLabel-type\"\r\n\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</InputGroup>\r\n\r\n\t\t\t\t\t\t<InputGroup className=\"mb-3\">\r\n\t\t\t\t\t\t\t<InputGroup.Prepend>\r\n\t\t\t\t\t\t\t<InputGroup.Text id=\"fieldLabel-description\">Description</InputGroup.Text>\r\n\t\t\t\t\t\t\t</InputGroup.Prepend>\r\n\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\t\t\tvalue={this.state.description? this.state.description : ''}\r\n\t\t\t\t\t\t\t\tplaceholder=\"describe your form\"\r\n\t\t\t\t\t\t\t\tonChange={this.handleFormChange}\r\n\t\t\t\t\t\t\t\taria-describedby=\"fieldLabel-description\" />\r\n\t\t\t\t\t\t</InputGroup>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t\t<div className=\"px-2\" >\r\n\t\t\t\t\t\t<DynamicFormChild schema={this.state.schema}\r\n\t\t\t\t\t\t\t\tonSubmit={this.onSubmit}\r\n\t\t\t\t\t\t\t\tonError={this.onError} \r\n\t\t\t\t\t\t\t\tformData={this.dataForRJSF}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t</DynamicFormChild>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\t{this.state.dataToSave && \r\n\t\t\t\t\t\t<div className=\"py-2\" >\r\n\t\t\t\t\t\t\t<div>View JSON data</div>\r\n\t\t\t\t\t\t\t<ReactJson displayDataTypes={false} src={this.state.dataToSave} collapsed=\"true\"/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t</>\r\n\t\t\t}\t\r\n\t\t</div>);\r\n \t}\r\n\r\n};\r\nexport default EditCustomForm;\r\n","/* meta schema for defining a form */\r\nconst SchemaForm = {\r\n\t\"title\": \"Let's define a simple form\",\r\n    \"description\": \"To create a complex form, use the 'raw JSON editor'\",\r\n\t\"type\": \"object\",\r\n\t\"properties\": {\r\n\t\t\"title\": {\r\n\t\t\t\"type\": \"string\",\r\n\t\t\t\"default\": \"Title of your form\",\r\n\t\t\t\"title\" : \"Give your form a title\"\r\n\t\t},\r\n\t\t\"listFields\": {\r\n\t\t\t\"type\": \"array\",\r\n\t\t\t\"title\" : \"Manage the fields\",\r\n\t\t\t\"items\": {\r\n\t\t\t\t\"type\" : \"object\", \r\n\t\t\t\t\"required\": [\r\n\t\t\t\t\t\"fieldName\",\r\n\t\t\t\t\t\"type\"\r\n\t\t\t\t], \r\n\t\t\t\t\"properties\" : {\r\n\t\t\t\t\t\"fieldName\" : {\r\n\t\t\t\t\t\t\"type\": \"string\",\r\n\t\t\t\t\t\t\"title\" : \"Techinical field name\",\r\n\t\t\t\t\t\t\"pattern\": \"^[A-Za-z0-9_-]{0,30}$\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"type\" : {\r\n\t\t\t\t\t\t\"enum\": [\"string\",\"integer\", \"boolean\", \"date\", \"enum\"],\r\n\t\t\t\t\t\t\"default\" : \"string\",\r\n\t\t\t\t\t\t\"title\" : \"Data type\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"title\" : {\r\n\t\t\t\t\t\t\"type\": \"string\",\r\n\t\t\t\t\t\t\"title\" : \"Title to show in the form\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"booleanRequired\" : {\r\n\t\t\t\t\t\t\"type\": \"boolean\",\r\n\t\t\t\t\t\t\"title\" : \"Required?\"\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdependencies : {\r\n\t\t\t\t\t\"type\" : {\r\n\t\t\t\t\t\t\"oneOf\": [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\"properties\": {\r\n\t\t\t\t\t\t\t\t\t\t\"type\": {\"enum\": [\"enum\"]},\r\n\t\t\t\t\t\t\t\t\t\t\"enumValues\" : {\r\n\t\t\t\t\t\t\t\t\t\t\ttype: \"string\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle : \"Enum values (comma separated)\"\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\"properties\": {\r\n\t\t\t\t\t\t\t\t\t\t\"type\": {\"enum\": [\"string\",\"integer\", \"boolean\", \"date\"]}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t} \r\n\t\t\t}\r\n\t\t} \r\n\t}\r\n};\r\n\r\nexport default SchemaForm;","import React from \"react\";\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nexport default function ConfirmModal(props) {\r\n\r\n  return (\r\n    <>\r\n      <Modal show={props.show} onHide={props.handleClose} animation={true} size={props.size}\r\n            backdrop=\"static\"\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>{props.title? props.title : 'Confirmation'}</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>{props.children}</Modal.Body>\r\n        { props.handleConfirm &&\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={props.handleClose}>\r\n              Close\r\n            </Button>\r\n            <Button variant=\"primary\" onClick={props.handleConfirm}>\r\n              Confirm\r\n            </Button>\r\n          </Modal.Footer>\r\n        }\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n","import React, { PureComponent } from \"react\";\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport ReactJson from 'react-json-view';\r\nimport { findItemById } from '../../service/data-service';\r\n\r\nclass ViewItem extends PureComponent {\r\n  constructor(props) {\r\n\tsuper(props);\r\n\t// item id : props.item \r\n    this.state = {\r\n\t\tsuccess : '',\r\n\t\terror : ''\r\n\t};\r\n\tfindItemById(props.item).then(\r\n\t\t(data) => {\r\n\t\t\tif(data.length>0) {\r\n\t\t\t\tthis.setState( {\r\n\t\t\t\t\tdata : data[0],\r\n\t\t\t\t\terror : ''\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState( {error : 'Error : not found'});\r\n\t\t\t}\r\n\t\t}, \r\n\t\t(err) => {\r\n\t\t\tthis.setState( {error : 'Error while loading : ' +err});\r\n\t\t}\r\n\t);\r\n  }\r\n\r\n\r\n  getFormattedObject = () => {\r\n\t  console.log('data', this.state.data);\r\n\t  let content = this.state.data.content;\r\n\t  try {\r\n\t\tlet r = JSON.parse(content);\r\n\t\tif(r && typeof r === 'object') {\r\n\t\t\tconsole.log('result', r);\r\n\t\t\treturn r;\r\n\t\t}\r\n\t  } catch(err) {\r\n\t\t  console.log(err);\r\n\t  }\r\n\t  return { \"content_non_json\" : content };\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"px-2\" >\r\n\r\n\t\t{ this.state.success &&\r\n\t\t\t<Alert variant='success' >\r\n\t\t\t\t{this.state.success}\r\n\t\t\t</Alert>\r\n\t\t}\r\n\t\t{ this.state.error &&\r\n\t\t\t<Alert variant='danger' >\r\n\t\t\t\t{this.state.error}\r\n\t\t\t</Alert>\r\n\t\t}\r\n\t\t{ this.state.data && \r\n\t\t\t<>\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\tType : {this.state.data.type}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\tDescription : {this.state.data.description}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"py-2\" >\r\n\t\t\t<ReactJson displayDataTypes={false} src={this.getFormattedObject()} />\r\n\t\t\t</div>\r\n\t\t\t</>\r\n  \t\t}\r\n      </div>\r\n    );\r\n  }\r\n};\r\nexport default ViewItem;","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React, { PureComponent } from \"react\";\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport AutoFocusAlert from '../Alert/AutoFocusAlert';\r\nimport ReactJson from 'react-json-view';\r\nimport { findItemById, saveItem, formatJson } from '../../service/data-service';\r\n\r\nclass EditRawJson extends PureComponent {\r\n  constructor(props) {\r\n\tsuper(props);\r\n\tthis.state = { \r\n\t\t\talert : 'Loading...',\r\n\t\t\talertVariant : 'info'\r\n\t};\r\n }\r\n\r\n componentDidMount() {\r\n\tif(this.props.itemId) {\r\n\t\tfindItemById(this.props.itemId).then(\r\n\t\t\t(data) => {\r\n\t\t\t\tif(data.length>0) {\r\n\t\t\t\t\tlet formattedObject = formatJson(data[0].content);\r\n\t\t\t\t\tthis.setState( {\r\n\t\t\t\t\t\t...data[0],\r\n\t\t\t\t\t\tidReadOnly : true,\r\n\t\t\t\t\t\tformattedObject,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.showSuccess('');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.showError('Error : not found');\r\n\t\t\t\t}\r\n\t\t\t}, \r\n\t\t\t(err) => {\r\n\t\t\t\tthis.showError('Error while loading : ' +err);\r\n\t\t\t}\r\n\t\t);\r\n\t} else {\r\n\t\t// if ID not provided,\r\n\t\t// we show emptyForm.\r\n\t\tlet content = '';\r\n\t\tthis.setState({\r\n\t\t\tformattedObject : formatJson(content),\r\n\t\t\tid : '',\r\n\t\t\tdescription : '',\r\n\t\t\tcontent : content,\r\n\t\t\ttype : this.props.objectType,\r\n\t\t});\r\n\t\tthis.showSuccess('');\r\n\t}\r\n  }\r\n\r\n  handleFormChange = (ev) => {\r\n\t  let change = {};\r\n      change[ev.target.name] = ev.target.value;\r\n\t  this.setState(change);\r\n\t  // console.log('handleFormChange', change);\r\n  }\r\n\r\n  save = async () => {\r\n\ttry {\r\n\t  this.showInfo('Saving...');\r\n\t  let obj = formatJson(this.state.content);\r\n\t  let res = await saveItem({\r\n\t\tid : this.state.id,\r\n\t\ttype : this.state.type,\r\n\t\tdescription : this.state.description,\r\n\t\tcontent : this.state.content\r\n\t  });\r\n\t  // console.log('result', res);\r\n\t  if(this.props.callbackRefresh) {\r\n\t\t  this.props.callbackRefresh();\r\n\t  }\r\n\t  this.setState( {\r\n\t\t  formattedObject : obj\r\n\t  });\r\n\t  if(res.status==='OK') {\r\n\t\tthis.showSuccess(res.message);\r\n\t  } else {\r\n\t\tthis.showError(res.message);\r\n\t  }\r\n\t} catch(err) {\r\n\t  console.log(err);\r\n\t  this.showError('Error ' +err);\r\n\t}\r\n  };\r\n\r\n\r\n\r\n  adjustRows = (str) => {\r\n\tif(!str) return 3;\r\n\tlet lines = str.split('\\n');\r\n\treturn Math.min(lines.length + 1, 10);\r\n  }\r\n\r\n\tshowError = (err) => {\r\n\t\t\tthis.setState({ alert: err, alertVariant : 'danger'});\r\n\t};\r\n\tshowWarn = (msg) => {\r\n\t\t\tthis.setState({ alert: msg, alertVariant : 'warning' });\r\n\t};\r\n\tshowSuccess = (msg) => {\r\n\t\t\tthis.setState({ alert: msg, alertVariant : 'success', ready : true});\r\n\t};\r\n\tshowInfo = (msg) => {\r\n\t\t\tthis.setState({  alert: msg, alertVariant : 'info' });\r\n\t};\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"px-2\" >\r\n\r\n\t\t<AutoFocusAlert alert={this.state.alert} alertVariant={this.state.alertVariant} >\r\n\t\t</AutoFocusAlert>\r\n\r\n\t\t{ this.state.ready &&\r\n\t\t\t<>\r\n\t\t\t\t<Form>\r\n\t\t\t\t\t<InputGroup className=\"mb-3\">\r\n\t\t\t\t\t\t<InputGroup.Prepend>\r\n\t\t\t\t\t\t<InputGroup.Text id=\"fieldLabel-id\">Unique ID</InputGroup.Text>\r\n\t\t\t\t\t\t</InputGroup.Prepend>\r\n\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\tname=\"id\"\r\n\t\t\t\t\t\t\tvalue={this.state.id}\r\n\t\t\t\t\t\t\tplaceholder=\"required\"\r\n\t\t\t\t\t\t\tonChange={this.handleFormChange}\r\n\t\t\t\t\t\t\taria-describedby=\"fieldLabel-id\"\r\n\t\t\t\t\t\t\tdisabled={Boolean(this.state.idReadOnly)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t</InputGroup>\r\n\r\n\t\t\t\t\t<InputGroup className=\"mb-3\">\r\n\t\t\t\t\t\t<InputGroup.Prepend>\r\n\t\t\t\t\t\t<InputGroup.Text id=\"fieldLabel-description\">Description</InputGroup.Text>\r\n\t\t\t\t\t\t</InputGroup.Prepend>\r\n\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\t\tvalue={this.state.description? this.state.description : ''}\r\n\t\t\t\t\t\t\tplaceholder=\"describe your data\"\r\n\t\t\t\t\t\t\tonChange={this.handleFormChange}\r\n\t\t\t\t\t\t\taria-describedby=\"fieldLabel-description\" />\r\n\t\t\t\t\t</InputGroup>\r\n\r\n\t\t\t\t\t<Form.Group controlId=\"content\">\r\n\t\t\t\t\t\t<Form.Label>Json content</Form.Label>\r\n\t\t\t\t\t\t<Form.Control as=\"textarea\" \r\n\t\t\t\t\t\t\tname=\"content\"\r\n\t\t\t\t\t\t\trows={this.adjustRows(this.state.content)}\r\n\t\t\t\t\t\t\tplaceholder={ `{ \"value\" : \"3\" }` }\r\n\t\t\t\t\t\t\tonChange={this.handleFormChange}\r\n\t\t\t\t\t\t\tvalue={this.state.content? this.state.content : ''}  />\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Button variant=\"primary\"  onClick={this.save} >\r\n\t\t\t\t\t\tSave\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form>\r\n\r\n\t\t\t\t{this.state.formattedObject && \r\n\t\t\t\t\t<div className=\"py-2\" >\r\n\t\t\t\t\t\t<div>Json view</div>\r\n\t\t\t\t\t\t<ReactJson displayDataTypes={false} src={this.state.formattedObject} />\r\n\t\t\t\t\t</div>\r\n  \t\t\t\t}\r\n\t\t\t</>\r\n  \t\t}\r\n      </div>\r\n    );\r\n  }\r\n};\r\nexport default EditRawJson;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar Table = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      striped = _ref.striped,\n      bordered = _ref.bordered,\n      borderless = _ref.borderless,\n      hover = _ref.hover,\n      size = _ref.size,\n      variant = _ref.variant,\n      responsive = _ref.responsive,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"striped\", \"bordered\", \"borderless\", \"hover\", \"size\", \"variant\", \"responsive\"]);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'table');\n  var classes = classNames(className, decoratedBsPrefix, variant && decoratedBsPrefix + \"-\" + variant, size && decoratedBsPrefix + \"-\" + size, striped && decoratedBsPrefix + \"-striped\", bordered && decoratedBsPrefix + \"-bordered\", borderless && decoratedBsPrefix + \"-borderless\", hover && decoratedBsPrefix + \"-hover\");\n  var table = /*#__PURE__*/React.createElement(\"table\", _extends({}, props, {\n    className: classes,\n    ref: ref\n  }));\n\n  if (responsive) {\n    var responsiveClass = decoratedBsPrefix + \"-responsive\";\n\n    if (typeof responsive === 'string') {\n      responsiveClass = responsiveClass + \"-\" + responsive;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: responsiveClass\n    }, table);\n  }\n\n  return table;\n});\nexport default Table;","import React, { PureComponent } from \"react\";\r\nimport Table from 'react-bootstrap/Table';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport ConfirmModal from '../Modal/ConfirmModal';\r\nimport ViewItem   from './ViewItem.js';\r\nimport icons from 'glyphicons';\r\nimport { findItems, deleteItemById, getTimeStamp } from '../../service/data-service';\r\nimport EditAsRawJson from '../EditRawJson/EditRawJson';\r\nimport EditCustomForm from '../DynamicForm/EditCustomForm';\r\n\r\nclass ManageList extends PureComponent {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n\t\talert : 'Please wait...',\r\n\t\talertVariant : 'info'\r\n\t};\r\n  }\r\n\r\n  componentDidMount() {\r\n\tthis.refresh('');\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n\tif(prevProps.filter!== this.props.filter) {\r\n\t  this.refresh('');\r\n\t}\r\n  }\r\n\r\n\r\n\r\n  refresh = (msg) => {\r\n\tfindItems(this.props.filter).then(\r\n\t\t(data) => {\r\n\t\t\tdata = data.sort( (a,b) => a.id.localeCompare(b.id));\r\n\t\t\tthis.setState( {\r\n\t\t\t\tdata : data\r\n\t\t\t});\r\n\t\t\tthis.showSuccess(`${msg? msg : ''} ${data.length} element(s) found.`);\r\n\t\t\tif(this.props.notifyResultList) {\r\n\t\t\t\tthis.props.notifyResultList(data);\r\n\t\t\t}\r\n\t\t}, \r\n\t\t(err) => {\r\n\t\t\tthis.showError('Error while loading : ' +err);\r\n\t\t}\r\n\t);\r\n  };\r\n\r\n\r\n  askConfirmDelete = (itemToDelete) => {\r\n\t  console.log('delete item', itemToDelete);\r\n\t  this.setState({\r\n\t\t  itemToDelete });\r\n  };\r\n\r\n  confirmDelete = async () => {\r\n\tlet itemToDelete = this.state.itemToDelete;\r\n\tthis.setState({\r\n\t\t  itemToDelete : null });\r\n\ttry {\r\n\t\tlet res = await deleteItemById(itemToDelete);\r\n\t\tconsole.log('delete result', res);\r\n\t\tthis.refresh('Deleted '+itemToDelete+\". \");\r\n\r\n\t} catch(err) {\r\n\t\tthis.showError('Error while deleting : ' +err);\r\n\t}\r\n\t\r\n\r\n  };\r\n\r\n  cancelDelete = () => {\r\n\tthis.setState({\r\n\t\t  itemToDelete : null });\r\n  };\r\n\r\n\r\n  ViewItem = (itemToShow) => {\r\n\t  console.log('itemToShow', itemToShow);\r\n\t  this.setState({\r\n\t\t  itemToShow });\r\n  };\r\n\r\n\r\n  editCustomForm = (param) => {\r\n\t  this.setState({\r\n\t\t  customFormParam : param });\r\n  };\r\n\r\n  editRawJson = (item) => {\r\n\t  this.setState({\r\n\t\t  itemToEditAsRawJson : item,\r\n\t  });\r\n  };\r\n\r\n\r\n  needRefresh = false;\r\n\r\n  notifyRefresh = () => { this.needRefresh=true; };\r\n  conditionalRefresh = () => { \r\n\t  if(this.needRefresh) { this.refresh(); this.needRefresh=false; } \r\n  };\r\n\r\n  // find icons in \\node_modules\\glyphicons\\glyphicons.js\r\n\r\n\tshowError = (err) => {\r\n\t\t\tthis.setState({ alert: err, alertVariant : 'danger'});\r\n\t};\r\n\tshowWarn = (msg) => {\r\n\t\t\tthis.setState({ alert: msg, alertVariant : 'warning' });\r\n\t};\r\n\tshowSuccess = (msg) => {\r\n\t\t\tthis.setState({ alert: msg, alertVariant : 'success', ready : true});\r\n\t};\r\n\tshowInfo = (msg) => {\r\n\t\t\tthis.setState({  alert: msg, alertVariant : 'info' });\r\n\t};\r\n\r\n\r\n\r\n  render() {\r\n\tconsole.log('ManageList render ', this.props.filter);\r\n    return (\r\n\t<div className=\"py-2\">\r\n\r\n\t\t\t{ this.state.alert &&\r\n\t\t\t\t<Alert variant={this.state.alertVariant} >\r\n\t\t\t\t\t{this.state.alert}\r\n\t\t\t\t</Alert>\r\n\t\t\t}\r\n\r\n\t\t<ConfirmModal show={Boolean(this.state.itemToDelete)} \r\n\t\t\thandleConfirm={this.confirmDelete} handleClose={this.cancelDelete} >\r\n\t\t\t<p>\r\n\t\t\t\tDo you want to delete the item ID {this.setState.itemToDelete} ?\r\n\t\t\t</p>\r\n\t\t</ConfirmModal>\r\n  \t\t\r\n\t\t{this.state.itemToShow && \r\n\t\t\t<ConfirmModal show={Boolean(this.state.itemToShow)} \r\n\t\t\t\ttitle={`View Item ID ${this.state.itemToShow}`}\r\n\t\t\t\thandleClose={() => { this.setState({itemToShow : null}); }} >\r\n\t\t\t\t<ViewItem item={this.state.itemToShow} />\r\n\t\t\t</ConfirmModal>\r\n\t\t}\r\n\r\n\t\t{this.state.itemToEditAsRawJson &&\r\n\t\t\t<ConfirmModal show={Boolean(this.state.itemToEditAsRawJson)} \r\n\t\t\t\tsize=\"lg\"\r\n\t\t\t\ttitle={`Edit ${this.state.itemToEditAsRawJson.type} ID ${this.state.itemToEditAsRawJson.id} (as raw json)`}\r\n\t\t\t\thandleClose={() => { \r\n\t\t\t\t\tthis.conditionalRefresh();\r\n\t\t\t\t\tthis.setState({itemToEditAsRawJson : null}); }} >\r\n\t\t\t\t<EditAsRawJson itemId={this.state.itemToEditAsRawJson.id} callbackRefresh={this.notifyRefresh} />\r\n\t\t\t</ConfirmModal>\r\n\t\t}\r\n\r\n\t\t{this.state.customFormParam && \r\n\t\t\t<ConfirmModal show={Boolean(this.state.customFormParam)} \r\n\t\t\t\tsize=\"xl\"\r\n\t\t\t\ttitle={this.state.customFormParam.id? `Edit item ID ${this.state.customFormParam.id}` \r\n\t\t\t\t\t\t\t:  `Create a new object ${this.state.customFormParam.form}`  }\r\n\t\t\t\thandleClose={() => { \r\n\t\t\t\t\tthis.conditionalRefresh(); \r\n\t\t\t\t\tthis.setState({customFormParam : null}); }} >\r\n\t\t\t\t<EditCustomForm param={this.state.customFormParam} \r\n\t\t\t\t\tcallbackRefresh={this.state.customFormParam.form? null : this.notifyRefresh} />\r\n\t\t\t</ConfirmModal>\r\n  \t\t}\r\n\r\n\t\t{ this.state.data && \r\n\t\t<Table striped bordered hover size=\"sm\">\r\n\t\t\t<thead>\r\n\t\t\t\t<tr>\r\n\t\t\t\t<th>ID</th>\r\n\t\t\t\t\r\n\t\t\t\t{ this.props.showType &&\r\n\t\t\t\t\t<th>Type (Form ID)</th>\r\n  \t\t\t\t}\r\n\t\t\t\t<th>Description</th>\r\n\t\t\t\t<th>Custom form</th>\r\n\t\t\t\t<th>Simple actions</th>\r\n\t\t\t\t</tr>\r\n\t\t\t</thead>\r\n\t\t\t<tbody>\r\n\t\t\t{this.state.data.map((item) =>\r\n\t\t\t\t<tr key={item.id} >\r\n\t\t\t\t\t<td>{item.id}</td>\r\n\t\t\t\t\t{ this.props.showType &&\r\n\t\t\t\t\t\t<th>{item.type}</th>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<td>{item.description}</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t{ (item.type==='FORM') &&\r\n\t\t\t\t\t\t\t<button onClick={() => this.editCustomForm({\r\n\t\t\t\t\t\t\t\t\t\tform : item.id, \r\n\t\t\t\t\t\t\t\t\t\tsuggestedId : `${item.id}_${getTimeStamp()}`})} \r\n\t\t\t\t\t\t\t\ttitle={`New instance from the form ${item.id}`}   >\r\n\t\t\t\t\t\t\t\t{icons.plus}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{ (item.type==='FORM') &&\r\n\t\t\t\t\t\t\t<button onClick={() => this.editCustomForm({id : item.id })} title={`Edit the form definition ${item.id}`}   >\r\n\t\t\t\t\t\t\t\t{icons.gear}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{ (item.type!=='FORM') &&\r\n\t\t\t\t\t\t\t<button onClick={() => this.editCustomForm({id : item.id})} title={`Edit the object ${item.id} with the form ${item.type}`}  >\r\n\t\t\t\t\t\t\t\t{icons.memo}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td >\r\n\t\t\t\t\t\t<button onClick={() => this.editRawJson(item) } title=\"Edit raw json\" >\r\n\t\t\t\t\t\t\t{icons.pencil}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button onClick={() => this.ViewItem(item.id)} title=\"View raw json\"  >\r\n\t\t\t\t\t\t\t{icons.magnifyingGlass}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button onClick={() => this.askConfirmDelete(item.id)} title=\"Delete\" >\r\n\t\t\t\t\t\t\t{icons.wastebasket}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t)}\r\n\t\t\t</tbody>\r\n\t\t</Table>\t\t\r\n  \t\t}\r\n      </div>\r\n    );\r\n  }\r\n};\r\nexport default ManageList;"],"sourceRoot":""}