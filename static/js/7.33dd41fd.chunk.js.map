{"version":3,"sources":["service/data-service.js","env.js","demo/Alert/AutoFocusAlert.js","demo/DynamicForm/DynamicFormChild.js","demo/DynamicForm/SchemaForm.js","demo/Modal/ConfirmModal.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","demo/DynamicForm/EditCustomForm.js","demo/ManageData/ViewItem.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","demo/EditRawJson/EditRawJson.js","../node_modules/react-bootstrap/esm/Table.js","demo/ManageData/ManageList.js"],"names":["findItems","searchText","a","console","log","path","url","serviceUrl","fetch","res","json","findItemById","id","deleteItemById","method","mode","saveItem","item","headers","Headers","body","JSON","stringify","formatJson","content","obj","parse","err","jsonInvalide","nonJsonData","getTimeStamp","format","mm","d","Date","getMonth","dd","getDate","hh","getHours","mi","getMinutes","ss","getSeconds","getFullYear","join","AutoFocusAlert","props","refAlert","React","createRef","this","scrollToVisible","alert","current","scrollIntoView","variant","alertVariant","ref","PureComponent","DynamicFormChild","refreshCount","schema","onSubmit","onError","formData","showErrorList","SchemaForm","dependencies","type","title","ConfirmModal","show","onHide","handleClose","animation","size","backdrop","Header","closeButton","Title","Body","children","handleConfirm","Footer","onClick","_arrayLikeToArray","arr","len","length","i","arr2","Array","_slicedToArray","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","o","minLen","n","prototype","toString","call","slice","constructor","name","from","test","TypeError","EditCustomForm","prefillForm","then","listResult","chg","entries","k","v","dataToSave","dataForRJSF","adaptFormDefinition","setState","Promise","reject","loadSchema","form","resolve","description","properties","showError","showWarn","msg","showSuccess","ready","showInfo","handleFormChange","ev","change","target","data","transformToSave","state","status","message","callbackRefresh","listFields","assign","required","forEach","propOriginal","prop","fieldName","booleanRequired","enum","enumValues","split","s","trim","jsonOriginal","getOwnPropertyNames","includes","e","stack","varient","idReadOnly","Boolean","param","catch","suggestedId","initialDescription","initialData","className","Form","InputGroup","Prepend","Text","Control","placeholder","onChange","aria-describedby","disabled","displayDataTypes","src","collapsed","ViewItem","getFormattedObject","r","success","error","_defineProperty","key","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","apply","EditRawJson","save","formattedObject","adjustRows","str","lines","Math","min","itemId","arguments","source","getOwnPropertyDescriptors","defineProperties","objectType","Group","controlId","Label","as","rows","Button","Table","forwardRef","_ref","bsPrefix","striped","bordered","borderless","hover","responsive","_objectWithoutPropertiesLoose","decoratedBsPrefix","useBootstrapPrefix","classes","classNames","table","createElement","_extends","responsiveClass","ManageList","refresh","sort","b","localeCompare","notifyResultList","askConfirmDelete","itemToDelete","confirmDelete","cancelDelete","itemToShow","editCustomForm","customFormParam","editRawJson","itemToEditAsRawJson","needRefresh","notifyRefresh","conditionalRefresh","prevProps","Alert","showType","map","icons","plus","gear","memo","pencil","magnifyingGlass","wastebasket"],"mappings":"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","file":"static/js/7.33dd41fd.chunk.js","sourcesContent":["import {serviceUrl} from '../env.js';\n\n\n\n/**\n * ex searchText='type=FORM'\n */\nexport async function findItems(searchText) {\n  console.log(`filter with ${searchText}`);\n\n  let path = 'items' + (searchText? '?'+searchText : '');\n  let url = serviceUrl + path;\n  let res = await fetch(url);\n\n  let json = await res.json();\n  console.log(path +' => ', json);\n\n  return json;\n};\n\nexport async function findItemById(id) {\n  console.log(`find by id ${id}`);\n\n  let path = 'items/' +id;\n  let url = serviceUrl + path;\n  let res = await fetch(url);\n\n  let json = await res.json();\n  console.log(path +' => ', json);\n\n  return json;\n};\n\n\nexport async function deleteItemById(id) {\n  console.log(`delete by id ${id}`);\n\n  let path = 'items/' +id+ '/delete';\n  let url = serviceUrl + path;\n  let res = await fetch(url, {\n    method: 'DELETE',\n    mode: 'cors',\n  });\n\n  let json = await res.json();\n  console.log(path +' => ', json);\n\n  return json;\n};\n\n\n\nexport async function saveItem(item) {\n  console.log(`save`, item);\n\n  let path = 'items/save';\n  let url = serviceUrl + path;\n  let res = await fetch(url,  {\n    method: 'POST',\n    headers: new Headers({\n      \"Content-Type\": \"application/json\",\n    }),\n    body: JSON.stringify(item)\n  });\n\n  let json = await res.json();\n  console.log(path +' => ', json);\n\n  return json;\n};\n\n\nexport function formatJson(content) {\n\t  let obj;\n\t  if(!content) {\n\t\t  return null;\n\t  }\n\t  try {\n\t\t  obj = JSON.parse(content);\n\t  } catch(err) {\n\t\t  console.log('json invalide', err);\n\t\t  obj = {\n\t\t\t  jsonInvalide : (''+err)\n\t\t  };\n\t  }\n\t  console.log('formatJson', obj);\n\t  return (typeof obj === 'object')? obj : {\n\t\t  nonJsonData : ''+obj\n\t  };\n  };\n\nexport function getTimeStamp() {\n\t\tlet format = (mm) => (mm>9 ? '' : '0') + mm;\n\t\tlet d = new Date();\n\t\tvar mm = d.getMonth() + 1; // getMonth() is zero-based\n\t\tvar dd = format(d.getDate());\n\t\tvar hh = format(d.getHours());\n\t\tvar mi = format(d.getMinutes());\n\t\tvar ss = format(d.getSeconds());\n\t\treturn [d.getFullYear(),\n\t\t\t\tmm,\n\t\t\t\tdd,\n\t\t\t\t'_',\n\t\t\t\thh,\n\t\t\t\tmi,\n\t\t\t\tss,\n\t\t\t\t].join('')\n\t};\n","\r\n\r\nexport var serviceUrl =   // 'http://localhost:1234/'; \r\n     'https://generic-db.glitch.me/';\r\n","import React, { PureComponent } from \"react\";\r\nimport Alert from 'react-bootstrap/Alert';\r\n\r\nclass AutoFocusAlert extends PureComponent {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.refAlert = React.createRef();    \r\n  }\r\n  componentDidMount() {\r\n    this.scrollToVisible(); \r\n  }\r\n  componentDidUpdate() {\r\n    this.scrollToVisible();\r\n  }\r\n\r\n  scrollToVisible() {\r\n    if(this.props.alert && this.refAlert) {\r\n\t\t\tthis.refAlert.current.scrollIntoView();\r\n\t\t\t// console.log('scrollIntoView', this.refAlert.current);\r\n\t\t}\r\n  }\r\n\r\n\r\n  render() {\r\n    return \t<>\t\t\r\n      { this.props.alert &&\r\n\t\t\t\t<Alert variant={this.props.alertVariant} ref={this.refAlert} >\r\n\t\t\t\t\t{this.props.alert}\r\n\t\t\t\t</Alert>\r\n\t\t\t}\r\n      </>;\r\n  }\r\n}\r\nexport default AutoFocusAlert;\r\n  \r\n  ","import React, { PureComponent } from \"react\";\r\nimport CustomForm from \"@rjsf/core\";\r\n\r\nclass DynamicFormChild extends PureComponent {\r\n\r\n  constructor(props) {\r\n\t  super(props);\r\n\t  this.refreshCount = 0;\r\n  }\r\n\r\n  render() {\r\n\tthis.refreshCount++;\r\n\tconsole.log('DynamicFormChild render', this.refreshCount);\r\n\r\n\treturn (\r\n\t\t\t\t\t\t<CustomForm schema={this.props.schema}\r\n\t\t\t\t\t\t\t\tonSubmit={this.props.onSubmit}\r\n\t\t\t\t\t\t\t\tonError={this.props.onError} \r\n\t\t\t\t\t\t\t\tformData={this.props.formData}\r\n\t\t\t\t\t\t\t\tshowErrorList={false} \t>\r\n\t\t\t\t\t\t</CustomForm>\r\n\t);\r\n  }\r\n\r\n}\r\n\r\nexport default DynamicFormChild;","/* meta schema for defining a form */\r\nconst SchemaForm = {\r\n\t\"title\": \"Let's define a simple form\",\r\n    \"description\": \"To create a complex form, use the 'raw JSON editor'\",\r\n\t\"type\": \"object\",\r\n\t\"properties\": {\r\n\t\t\"title\": {\r\n\t\t\t\"type\": \"string\",\r\n\t\t\t\"default\": \"Title of your form\",\r\n\t\t\t\"title\" : \"Give your form a title\"\r\n\t\t},\r\n\t\t\"listFields\": {\r\n\t\t\t\"type\": \"array\",\r\n\t\t\t\"title\" : \"Manage the fields\",\r\n\t\t\t\"items\": {\r\n\t\t\t\t\"type\" : \"object\", \r\n\t\t\t\t\"required\": [\r\n\t\t\t\t\t\"fieldName\",\r\n\t\t\t\t\t\"type\"\r\n\t\t\t\t], \r\n\t\t\t\t\"properties\" : {\r\n\t\t\t\t\t\"fieldName\" : {\r\n\t\t\t\t\t\t\"type\": \"string\",\r\n\t\t\t\t\t\t\"title\" : \"Techinical field name\",\r\n\t\t\t\t\t\t\"pattern\": \"^[A-Za-z0-9_-]{0,30}$\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"type\" : {\r\n\t\t\t\t\t\t\"enum\": [\"string\",\"integer\", \"boolean\", \"date\", \"enum\"],\r\n\t\t\t\t\t\t\"default\" : \"string\",\r\n\t\t\t\t\t\t\"title\" : \"Data type\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"title\" : {\r\n\t\t\t\t\t\t\"type\": \"string\",\r\n\t\t\t\t\t\t\"title\" : \"Title to show in the form\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"booleanRequired\" : {\r\n\t\t\t\t\t\t\"type\": \"boolean\",\r\n\t\t\t\t\t\t\"title\" : \"Required?\"\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdependencies : {\r\n\t\t\t\t\t\"type\" : {\r\n\t\t\t\t\t\t\"oneOf\": [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\"properties\": {\r\n\t\t\t\t\t\t\t\t\t\t\"type\": {\"enum\": [\"enum\"]},\r\n\t\t\t\t\t\t\t\t\t\t\"enumValues\" : {\r\n\t\t\t\t\t\t\t\t\t\t\ttype: \"string\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle : \"Enum values (comma separated)\"\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\"properties\": {\r\n\t\t\t\t\t\t\t\t\t\t\"type\": {\"enum\": [\"string\",\"integer\", \"boolean\", \"date\"]}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t} \r\n\t\t\t}\r\n\t\t} \r\n\t}\r\n};\r\n\r\nexport default SchemaForm;","import React from \"react\";\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nexport default function ConfirmModal(props) {\r\n\r\n  return (\r\n    <>\r\n      <Modal show={props.show} onHide={props.handleClose} animation={true} size={props.size}\r\n            backdrop=\"static\"\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>{props.title? props.title : 'Confirmation'}</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>{props.children}</Modal.Body>\r\n        { props.handleConfirm &&\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={props.handleClose}>\r\n              Close\r\n            </Button>\r\n            <Button variant=\"primary\" onClick={props.handleConfirm}>\r\n              Confirm\r\n            </Button>\r\n          </Modal.Footer>\r\n        }\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { PureComponent } from \"react\";\r\nimport Form from 'react-bootstrap/Form';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport AutoFocusAlert from '../Alert/AutoFocusAlert';\r\nimport ReactJson from 'react-json-view';\r\nimport { findItemById, saveItem, formatJson } from '../../service/data-service';\r\nimport DynamicFormChild from './DynamicFormChild';\r\nimport SchemaForm from './SchemaForm';\r\n\r\nclass EditCustomForm extends PureComponent {\r\n\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t// item id : props.item \r\n\t\tthis.state = {\r\n\t\t\talert : 'Loading...',\r\n\t\t\tvarient : 'info'\r\n\t\t};\r\n\t\tthis.idReadOnly = Boolean(props.param.id);\r\n\t\tthis.dataForRJSF = {};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t// the call 'setState' is available after 'mount.\r\n\t\tif(this.props.param.id) {\r\n\t\t\tconsole.log('create an prefield form');\r\n\t\t\tthis.prefillForm(this.props.param.id)\r\n\t\t\t.then(()=> { \r\n\t\t\t\tthis.showSuccess()\r\n\t\t\t}).catch((e)=> this.showError('Error while loading : '+e));\r\n\t\t} else {\r\n\t\t\tconsole.log('create an empty form');\r\n\t\t\tthis.loadSchema(this.props.param.form)\r\n\t\t\t.then((form)=> {\r\n\t\t\t\tthis.setState({ \r\n\t\t\t\t\tid : this.props.param.suggestedId,\r\n\t\t\t\t\ttype : form.id,\r\n\t\t\t\t\tdescription : this.props.param.initialDescription? this.props.param.initialDescription : null,\r\n\t\t\t\t\tdataToSave : this.props.param.initialData? this.props.param.initialData : null \r\n\t\t\t\t});\r\n\t\t\t\tthis.dataForRJSF = this.adaptFormDefinition(this.props.param.initialData, form.id);\r\n\t\t\t\treturn this.showSuccess();\r\n\t\t\t})\r\n\t\t\t.catch((e)=> {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tthis.showError('Error while loading : '+e)} );\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n   prefillForm = async (id) => {\r\n\t\treturn findItemById(id).then(\r\n\t\t\t\t(listResult) => {\r\n\t\t\t\t\tif(listResult.length>0) {\r\n\t\t\t\t\t\tlet item = listResult[0];\r\n\t\t\t\t\t\tlet chg = {};\r\n\t\t\t\t\t\tfor (let [k, v] of Object.entries(item)) {\r\n\t\t\t\t\t\t\tif(k==='content') {\r\n\t\t\t\t\t\t\t\tlet d = formatJson(v);\r\n\t\t\t\t\t\t\t\tchg.dataToSave = d;\r\n\t\t\t\t\t\t\t\tthis.dataForRJSF = this.adaptFormDefinition(d, item.type);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tchg[k] = v;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log('setState',chg);\r\n\t\t\t\t\t\tthis.setState(chg);\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn Promise.reject(`ID ${id} not found `);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t).then(\r\n\t\t\t(item) => this.loadSchema(item.type)\r\n\t\t);\r\n\t};\r\n\r\n\tloadSchema = async (form) => {\r\n\t\tif(form === 'FORM') {\r\n\t\t\tthis.setState({schema : SchemaForm});\r\n\t\t\tconsole.log('use SchemaForm', SchemaForm);\r\n\t\t\treturn Promise.resolve({id:'FORM', description:'meta schema', schema : SchemaForm });\r\n\t\t}\r\n\t\treturn findItemById(form).then(\r\n\t\t\t\t(listResult) => {\r\n\t\t\t\t\tif(listResult.length>0) {\r\n\t\t\t\t\t\tlet item = listResult[0];\r\n\t\t\t\t\t\tif(item.type!=='FORM') {\r\n\t\t\t\t\t\t\treturn Promise.reject(`Object ID ${form} must be of type FORM (found ${item.type})`);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlet schema = formatJson(item.content);\r\n\t\t\t\t\t\tif(!schema || !schema.properties) {\r\n\t\t\t\t\t\t\treturn Promise.reject(`Form '${form}' has invalide schema (found ${item.content})`);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.setState({schema});\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn Promise.reject(`Form '${form}' not found `);\r\n\t\t\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\r\n\tshowError = (err) => {\r\n\t\t\tthis.setState({ alert: err, alertVariant : 'danger'});\r\n\t};\r\n\tshowWarn = (msg) => {\r\n\t\t\tthis.setState({ alert: msg, alertVariant : 'warning' });\r\n\t};\r\n\tshowSuccess = (msg) => {\r\n\t\t\tthis.setState({ alert: msg, alertVariant : 'success', ready : true});\r\n\t};\r\n\tshowInfo = (msg) => {\r\n\t\t\tthis.setState({  alert: msg, alertVariant : 'info' });\r\n\t};\r\n\r\n\thandleFormChange = (ev) => {\r\n\t\tlet change = {};\r\n\t\tchange[ev.target.name] = ev.target.value;\r\n\t\tthis.setState(change);\r\n\t\t// console.log('handleFormChange', change);\r\n\t};\r\n\r\n\t\r\n    onSubmit = async (data) => {\r\n\t\ttry {\r\n\t\t\tconsole.log('submit', data);\r\n\t\t\tthis.showInfo('Saving...');\r\n\t\t\tlet dataToSave = this.transformToSave(data.formData);\r\n\t\t\tthis.setState({dataToSave});\r\n\t\t\tlet content = JSON.stringify(dataToSave, null, ' ');\r\n\t\t\tlet res = await saveItem({\r\n\t\t\t\tid : this.state.id,\r\n\t\t\t\ttype : this.state.type,\r\n\t\t\t\tdescription : this.state.description,\r\n\t\t\t\tcontent : content\r\n\t\t\t});\r\n\t\t\t// console.log('result', res);\r\n\t\t\tif(res.status==='OK') {\r\n\t\t\t\tthis.showSuccess(res.message);\r\n\t\t\t} else {\r\n\t\t\t\tthis.showError(res.message);\r\n\t\t\t}\r\n\t\t\tif(res.status==='OK' && this.props.callbackRefresh) {\r\n\t\t\t\tthis.props.callbackRefresh();\r\n\t\t\t}\r\n\t\t} catch(err) {\r\n\t\t\tconsole.log(err);\r\n\t\t\tthis.showError('' +err);\r\n\t\t}\r\n\r\n\t};\r\n\r\n\ttransformToSave = (json) => {\r\n\t\tif(this.state.type!=='FORM') {\r\n\t\t\treturn json;\r\n\t\t}\r\n\t\t// transform 'listFields' to 'properties'\r\n\t\tif(!json.listFields) {\r\n\t\t\treturn json;\r\n\t\t}\r\n\t\tjson = Object.assign({}, json);\r\n\t\tjson.type = 'object';\r\n\t\tjson.properties = {};\r\n\t\tjson.required = [];\r\n\t\tjson.listFields.forEach( (propOriginal, i) => {\r\n\t\t\tlet prop = Object.assign({}, propOriginal);\r\n\t\t\tjson.properties[prop.fieldName] = prop;\r\n\t\t\tif(prop.booleanRequired) {\r\n\t\t\t\tjson.required.push(prop.fieldName);\r\n\t\t\t}\r\n\t\t\tdelete prop.fieldName;\r\n\t\t\tif(prop.type==='date') {\r\n\t\t\t\tprop.type = 'string';\r\n\t\t\t\tprop.format = 'date';\r\n\t\t\t} else if(prop.type==='enum') {\r\n\t\t\t\tdelete prop.type;\r\n\t\t\t\tprop.enum = [];\r\n\t\t\t\tif(prop.enumValues) {\r\n\t\t\t\t\t//console.log('prop.enumValues', prop.enumValues);\r\n\t\t\t\t\tprop.enumValues.split(',').forEach(\r\n\t\t\t\t\t\t(s) => {\r\n\t\t\t\t\t\t\tprop.enum.push(s.trim());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t\tdelete prop.enumValues;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tdelete json.listFields;\r\n\t\tconsole.log('transformToSave', json);\r\n\t\treturn json\r\n\t}\r\n\r\n\tadaptFormDefinition = (jsonOriginal, type) => {\r\n\t\tif(!jsonOriginal) {\r\n\t\t\treturn {};\r\n\t\t}\r\n\t\tif(type!=='FORM') {\r\n\t\t\treturn jsonOriginal;\r\n\t\t}\r\n\t\tlet json = Object.assign({},jsonOriginal);\r\n\t\t// transform 'listFields' to 'properties'\r\n\t\tif(!json.properties) {\r\n\t\t\treturn json;\r\n\t\t}\r\n\t\tjson.listFields = [];\r\n\t\tObject.getOwnPropertyNames(json.properties).forEach( (v, i) => {\r\n\t\t\tlet prop = json.properties[v];\r\n\t\t\tprop.fieldName = v;\r\n\t\t\tif(prop.format==='date') {\r\n\t\t\t\tprop.type = 'date';\r\n\t\t\t\tdelete prop.format;\r\n\t\t\t} else if(prop.enum) {\r\n\t\t\t\tprop.type = 'enum';\r\n\t\t\t\tprop.enumValues = prop.enum.join(', ');\r\n\t\t\t\tdelete prop.enum;\r\n\t\t\t}\r\n\t\t\tif(json.required && json.required.includes(v)) {\r\n\t\t\t\tprop.booleanRequired = true;\r\n\t\t\t}\r\n\t\t\tjson.listFields.push(prop);\r\n\t\t});\r\n\t\tdelete json.properties;\r\n\t\tconsole.log('adaptFormDefinition', jsonOriginal, json);\r\n\t\treturn json\r\n\t}\r\n\r\n    onError = (e) => {\r\n\t\tthis.showWarn(`Problem with a form? \r\n\t\t\t${(e && e[0] && e[0].stack)? e[0].stack : ''}` );\r\n\t\tconsole.log('Form error', e);\r\n\t};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  \trender() {\r\n\r\n\t\treturn ( <div className=\"px-2\" >\r\n\r\n\t\t\t<AutoFocusAlert alert={this.state.alert} alertVariant={this.state.alertVariant} >\r\n\t\t\t</AutoFocusAlert>\r\n\r\n\t\t\t{ this.state.ready &&\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<InputGroup className=\"mb-3\">\r\n\t\t\t\t\t\t\t<InputGroup.Prepend>\r\n\t\t\t\t\t\t\t<InputGroup.Text id=\"fieldLabel-id\">Unique ID</InputGroup.Text>\r\n\t\t\t\t\t\t\t</InputGroup.Prepend>\r\n\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\tname=\"id\"\r\n\t\t\t\t\t\t\t\tvalue={this.state.id}\r\n\t\t\t\t\t\t\t\tplaceholder=\"required\"\r\n\t\t\t\t\t\t\t\tonChange={this.handleFormChange}\r\n\t\t\t\t\t\t\t\taria-describedby=\"fieldLabel-id\"\r\n\t\t\t\t\t\t\t\tdisabled={Boolean(this.idReadOnly)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</InputGroup>\r\n\r\n\t\t\t\t\t\t<InputGroup className=\"mb-3\">\r\n\t\t\t\t\t\t\t<InputGroup.Prepend> \r\n\t\t\t\t\t\t\t<InputGroup.Text id=\"fieldLabel-type\">Type</InputGroup.Text>\r\n\t\t\t\t\t\t\t</InputGroup.Prepend>\r\n\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\tname=\"type\"\r\n\t\t\t\t\t\t\t\tvalue={this.state.type}\r\n\t\t\t\t\t\t\t\taria-describedby=\"fieldLabel-type\"\r\n\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</InputGroup>\r\n\r\n\t\t\t\t\t\t<InputGroup className=\"mb-3\">\r\n\t\t\t\t\t\t\t<InputGroup.Prepend>\r\n\t\t\t\t\t\t\t<InputGroup.Text id=\"fieldLabel-description\">Description</InputGroup.Text>\r\n\t\t\t\t\t\t\t</InputGroup.Prepend>\r\n\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\t\t\tvalue={this.state.description? this.state.description : ''}\r\n\t\t\t\t\t\t\t\tplaceholder=\"describe your data\"\r\n\t\t\t\t\t\t\t\tonChange={this.handleFormChange}\r\n\t\t\t\t\t\t\t\taria-describedby=\"fieldLabel-description\" />\r\n\t\t\t\t\t\t</InputGroup>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t\t<div className=\"px-2\" >\r\n\t\t\t\t\t\t<DynamicFormChild schema={this.state.schema}\r\n\t\t\t\t\t\t\t\tonSubmit={this.onSubmit}\r\n\t\t\t\t\t\t\t\tonError={this.onError} \r\n\t\t\t\t\t\t\t\tformData={this.dataForRJSF}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t</DynamicFormChild>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\t{this.state.dataToSave && \r\n\t\t\t\t\t\t<div className=\"py-2\" >\r\n\t\t\t\t\t\t\t<div>View JSON data</div>\r\n\t\t\t\t\t\t\t<ReactJson displayDataTypes={false} src={this.state.dataToSave} collapsed=\"true\"/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t</>\r\n\t\t\t}\t\r\n\t\t</div>);\r\n \t}\r\n\r\n};\r\nexport default EditCustomForm;\r\n","import React, { PureComponent } from \"react\";\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport ReactJson from 'react-json-view';\r\nimport { findItemById } from '../../service/data-service';\r\n\r\nclass ViewItem extends PureComponent {\r\n  constructor(props) {\r\n\tsuper(props);\r\n\t// item id : props.item \r\n    this.state = {\r\n\t\tsuccess : '',\r\n\t\terror : ''\r\n\t};\r\n\tfindItemById(props.item).then(\r\n\t\t(data) => {\r\n\t\t\tif(data.length>0) {\r\n\t\t\t\tthis.setState( {\r\n\t\t\t\t\tdata : data[0],\r\n\t\t\t\t\terror : ''\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState( {error : 'Error : not found'});\r\n\t\t\t}\r\n\t\t}, \r\n\t\t(err) => {\r\n\t\t\tthis.setState( {error : 'Error while loading : ' +err});\r\n\t\t}\r\n\t);\r\n  }\r\n\r\n\r\n  getFormattedObject = () => {\r\n\t  console.log('data', this.state.data);\r\n\t  let content = this.state.data.content;\r\n\t  try {\r\n\t\tlet r = JSON.parse(content);\r\n\t\tif(r && typeof r === 'object') {\r\n\t\t\tconsole.log('result', r);\r\n\t\t\treturn r;\r\n\t\t}\r\n\t  } catch(err) {\r\n\t\t  console.log(err);\r\n\t  }\r\n\t  return { \"content_non_json\" : content };\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"px-2\" >\r\n\r\n\t\t{ this.state.success &&\r\n\t\t\t<Alert variant='success' >\r\n\t\t\t\t{this.state.success}\r\n\t\t\t</Alert>\r\n\t\t}\r\n\t\t{ this.state.error &&\r\n\t\t\t<Alert variant='danger' >\r\n\t\t\t\t{this.state.error}\r\n\t\t\t</Alert>\r\n\t\t}\r\n\t\t{ this.state.data && \r\n\t\t\t<>\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\tType : {this.state.data.type}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\tDescription : {this.state.data.description}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"py-2\" >\r\n\t\t\t<ReactJson displayDataTypes={false} src={this.getFormattedObject()} />\r\n\t\t\t</div>\r\n\t\t\t</>\r\n  \t\t}\r\n      </div>\r\n    );\r\n  }\r\n};\r\nexport default ViewItem;","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React, { PureComponent } from \"react\";\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport AutoFocusAlert from '../Alert/AutoFocusAlert';\r\nimport ReactJson from 'react-json-view';\r\nimport { findItemById, saveItem, formatJson } from '../../service/data-service';\r\n\r\nclass EditRawJson extends PureComponent {\r\n  constructor(props) {\r\n\tsuper(props);\r\n\tthis.state = { \r\n\t\t\talert : 'Loading...',\r\n\t\t\talertVariant : 'info'\r\n\t};\r\n }\r\n\r\n componentDidMount() {\r\n\tif(this.props.itemId) {\r\n\t\tfindItemById(this.props.itemId).then(\r\n\t\t\t(data) => {\r\n\t\t\t\tif(data.length>0) {\r\n\t\t\t\t\tlet formattedObject = formatJson(data[0].content);\r\n\t\t\t\t\tthis.setState( {\r\n\t\t\t\t\t\t...data[0],\r\n\t\t\t\t\t\tidReadOnly : true,\r\n\t\t\t\t\t\tformattedObject,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.showSuccess('');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.showError('Error : not found');\r\n\t\t\t\t}\r\n\t\t\t}, \r\n\t\t\t(err) => {\r\n\t\t\t\tthis.showError('Error while loading : ' +err);\r\n\t\t\t}\r\n\t\t);\r\n\t} else {\r\n\t\t// if ID not provided,\r\n\t\t// we show emptyForm.\r\n\t\tlet content = '';\r\n\t\tthis.setState({\r\n\t\t\tformattedObject : formatJson(content),\r\n\t\t\tid : '',\r\n\t\t\tdescription : '',\r\n\t\t\tcontent : content,\r\n\t\t\ttype : this.props.objectType,\r\n\t\t});\r\n\t\tthis.showSuccess('');\r\n\t}\r\n  }\r\n\r\n  handleFormChange = (ev) => {\r\n\t  let change = {};\r\n      change[ev.target.name] = ev.target.value;\r\n\t  this.setState(change);\r\n\t  // console.log('handleFormChange', change);\r\n  }\r\n\r\n  save = async () => {\r\n\ttry {\r\n\t  this.showInfo('Saving...');\r\n\t  let obj = formatJson(this.state.content);\r\n\t  let res = await saveItem({\r\n\t\tid : this.state.id,\r\n\t\ttype : this.state.type,\r\n\t\tdescription : this.state.description,\r\n\t\tcontent : this.state.content\r\n\t  });\r\n\t  // console.log('result', res);\r\n\t  if(this.props.callbackRefresh) {\r\n\t\t  this.props.callbackRefresh();\r\n\t  }\r\n\t  this.setState( {\r\n\t\t  formattedObject : obj\r\n\t  });\r\n\t  if(res.status==='OK') {\r\n\t\tthis.showSuccess(res.message);\r\n\t  } else {\r\n\t\tthis.showError(res.message);\r\n\t  }\r\n\t} catch(err) {\r\n\t  console.log(err);\r\n\t  this.showError('Error ' +err);\r\n\t}\r\n  };\r\n\r\n\r\n\r\n  adjustRows = (str) => {\r\n\tif(!str) return 3;\r\n\tlet lines = str.split('\\n');\r\n\treturn Math.min(lines.length + 1, 10);\r\n  }\r\n\r\n\tshowError = (err) => {\r\n\t\t\tthis.setState({ alert: err, alertVariant : 'danger'});\r\n\t};\r\n\tshowWarn = (msg) => {\r\n\t\t\tthis.setState({ alert: msg, alertVariant : 'warning' });\r\n\t};\r\n\tshowSuccess = (msg) => {\r\n\t\t\tthis.setState({ alert: msg, alertVariant : 'success', ready : true});\r\n\t};\r\n\tshowInfo = (msg) => {\r\n\t\t\tthis.setState({  alert: msg, alertVariant : 'info' });\r\n\t};\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"px-2\" >\r\n\r\n\t\t<AutoFocusAlert alert={this.state.alert} alertVariant={this.state.alertVariant} >\r\n\t\t</AutoFocusAlert>\r\n\r\n\t\t{ this.state.ready &&\r\n\t\t\t<>\r\n\t\t\t\t<Form>\r\n\t\t\t\t\t<InputGroup className=\"mb-3\">\r\n\t\t\t\t\t\t<InputGroup.Prepend>\r\n\t\t\t\t\t\t<InputGroup.Text id=\"fieldLabel-id\">Unique ID</InputGroup.Text>\r\n\t\t\t\t\t\t</InputGroup.Prepend>\r\n\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\tname=\"id\"\r\n\t\t\t\t\t\t\tvalue={this.state.id}\r\n\t\t\t\t\t\t\tplaceholder=\"required\"\r\n\t\t\t\t\t\t\tonChange={this.handleFormChange}\r\n\t\t\t\t\t\t\taria-describedby=\"fieldLabel-id\"\r\n\t\t\t\t\t\t\tdisabled={Boolean(this.state.idReadOnly)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t</InputGroup>\r\n\r\n\t\t\t\t\t<InputGroup className=\"mb-3\">\r\n\t\t\t\t\t\t<InputGroup.Prepend>\r\n\t\t\t\t\t\t<InputGroup.Text id=\"fieldLabel-description\">Description</InputGroup.Text>\r\n\t\t\t\t\t\t</InputGroup.Prepend>\r\n\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\t\tvalue={this.state.description? this.state.description : ''}\r\n\t\t\t\t\t\t\tplaceholder=\"describe your data\"\r\n\t\t\t\t\t\t\tonChange={this.handleFormChange}\r\n\t\t\t\t\t\t\taria-describedby=\"fieldLabel-description\" />\r\n\t\t\t\t\t</InputGroup>\r\n\r\n\t\t\t\t\t<Form.Group controlId=\"content\">\r\n\t\t\t\t\t\t<Form.Label>Json content</Form.Label>\r\n\t\t\t\t\t\t<Form.Control as=\"textarea\" \r\n\t\t\t\t\t\t\tname=\"content\"\r\n\t\t\t\t\t\t\trows={this.adjustRows(this.state.content)}\r\n\t\t\t\t\t\t\tplaceholder={ `{ \"value\" : \"3\" }` }\r\n\t\t\t\t\t\t\tonChange={this.handleFormChange}\r\n\t\t\t\t\t\t\tvalue={this.state.content? this.state.content : ''}  />\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Button variant=\"primary\"  onClick={this.save} >\r\n\t\t\t\t\t\tSave\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form>\r\n\r\n\t\t\t\t{this.state.formattedObject && \r\n\t\t\t\t\t<div className=\"py-2\" >\r\n\t\t\t\t\t\t<div>Json view</div>\r\n\t\t\t\t\t\t<ReactJson displayDataTypes={false} src={this.state.formattedObject} />\r\n\t\t\t\t\t</div>\r\n  \t\t\t\t}\r\n\t\t\t</>\r\n  \t\t}\r\n      </div>\r\n    );\r\n  }\r\n};\r\nexport default EditRawJson;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar Table = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      striped = _ref.striped,\n      bordered = _ref.bordered,\n      borderless = _ref.borderless,\n      hover = _ref.hover,\n      size = _ref.size,\n      variant = _ref.variant,\n      responsive = _ref.responsive,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"striped\", \"bordered\", \"borderless\", \"hover\", \"size\", \"variant\", \"responsive\"]);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'table');\n  var classes = classNames(className, decoratedBsPrefix, variant && decoratedBsPrefix + \"-\" + variant, size && decoratedBsPrefix + \"-\" + size, striped && decoratedBsPrefix + \"-striped\", bordered && decoratedBsPrefix + \"-bordered\", borderless && decoratedBsPrefix + \"-borderless\", hover && decoratedBsPrefix + \"-hover\");\n  var table = /*#__PURE__*/React.createElement(\"table\", _extends({}, props, {\n    className: classes,\n    ref: ref\n  }));\n\n  if (responsive) {\n    var responsiveClass = decoratedBsPrefix + \"-responsive\";\n\n    if (typeof responsive === 'string') {\n      responsiveClass = responsiveClass + \"-\" + responsive;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: responsiveClass\n    }, table);\n  }\n\n  return table;\n});\nexport default Table;","import React, { PureComponent } from \"react\";\r\nimport Table from 'react-bootstrap/Table';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport ConfirmModal from '../Modal/ConfirmModal';\r\nimport ViewItem   from './ViewItem.js';\r\nimport icons from 'glyphicons';\r\nimport { findItems, deleteItemById, getTimeStamp } from '../../service/data-service';\r\nimport EditAsRawJson from '../EditRawJson/EditRawJson';\r\nimport EditCustomForm from '../DynamicForm/EditCustomForm';\r\n\r\nclass ManageList extends PureComponent {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n\t\talert : 'Please wait...',\r\n\t\talertVariant : 'info'\r\n\t};\r\n  }\r\n\r\n  componentDidMount() {\r\n\tthis.refresh('');\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n\tif(prevProps.filter!== this.props.filter) {\r\n\t  this.refresh('');\r\n\t}\r\n  }\r\n\r\n\r\n\r\n  refresh = (msg) => {\r\n\tfindItems(this.props.filter).then(\r\n\t\t(data) => {\r\n\t\t\tdata = data.sort( (a,b) => a.id.localeCompare(b.id));\r\n\t\t\tthis.setState( {\r\n\t\t\t\tdata : data\r\n\t\t\t});\r\n\t\t\tthis.showSuccess(`${msg? msg : ''} ${data.length} element(s) found.`);\r\n\t\t\tif(this.props.notifyResultList) {\r\n\t\t\t\tthis.props.notifyResultList(data);\r\n\t\t\t}\r\n\t\t}, \r\n\t\t(err) => {\r\n\t\t\tthis.showError('Error while loading : ' +err);\r\n\t\t}\r\n\t);\r\n  };\r\n\r\n\r\n  askConfirmDelete = (itemToDelete) => {\r\n\t  console.log('delete item', itemToDelete);\r\n\t  this.setState({\r\n\t\t  itemToDelete });\r\n  };\r\n\r\n  confirmDelete = async () => {\r\n\tlet itemToDelete = this.state.itemToDelete;\r\n\tthis.setState({\r\n\t\t  itemToDelete : null });\r\n\ttry {\r\n\t\tlet res = await deleteItemById(itemToDelete);\r\n\t\tconsole.log('delete result', res);\r\n\t\tthis.refresh('Deleted '+itemToDelete+\". \");\r\n\r\n\t} catch(err) {\r\n\t\tthis.showError('Error while deleting : ' +err);\r\n\t}\r\n\t\r\n\r\n  };\r\n\r\n  cancelDelete = () => {\r\n\tthis.setState({\r\n\t\t  itemToDelete : null });\r\n  };\r\n\r\n\r\n  ViewItem = (itemToShow) => {\r\n\t  console.log('itemToShow', itemToShow);\r\n\t  this.setState({\r\n\t\t  itemToShow });\r\n  };\r\n\r\n\r\n  editCustomForm = (param) => {\r\n\t  this.setState({\r\n\t\t  customFormParam : param });\r\n  };\r\n\r\n  editRawJson = (item) => {\r\n\t  this.setState({\r\n\t\t  itemToEditAsRawJson : item,\r\n\t  });\r\n  };\r\n\r\n\r\n  needRefresh = false;\r\n\r\n  notifyRefresh = () => { this.needRefresh=true; };\r\n  conditionalRefresh = () => { \r\n\t  if(this.needRefresh) { this.refresh(); this.needRefresh=false; } \r\n  };\r\n\r\n  // find icons in \\node_modules\\glyphicons\\glyphicons.js\r\n\r\n\tshowError = (err) => {\r\n\t\t\tthis.setState({ alert: err, alertVariant : 'danger'});\r\n\t};\r\n\tshowWarn = (msg) => {\r\n\t\t\tthis.setState({ alert: msg, alertVariant : 'warning' });\r\n\t};\r\n\tshowSuccess = (msg) => {\r\n\t\t\tthis.setState({ alert: msg, alertVariant : 'success', ready : true});\r\n\t};\r\n\tshowInfo = (msg) => {\r\n\t\t\tthis.setState({  alert: msg, alertVariant : 'info' });\r\n\t};\r\n\r\n\r\n\r\n  render() {\r\n\tconsole.log('ManageList render ', this.props.filter);\r\n    return (\r\n\t<div className=\"py-2\">\r\n\r\n\t\t\t{ this.state.alert &&\r\n\t\t\t\t<Alert variant={this.state.alertVariant} >\r\n\t\t\t\t\t{this.state.alert}\r\n\t\t\t\t</Alert>\r\n\t\t\t}\r\n\r\n\t\t<ConfirmModal show={Boolean(this.state.itemToDelete)} \r\n\t\t\thandleConfirm={this.confirmDelete} handleClose={this.cancelDelete} >\r\n\t\t\t<p>\r\n\t\t\t\tDo you want to delete the item ID {this.setState.itemToDelete} ?\r\n\t\t\t</p>\r\n\t\t</ConfirmModal>\r\n  \t\t\r\n\t\t{this.state.itemToShow && \r\n\t\t\t<ConfirmModal show={Boolean(this.state.itemToShow)} \r\n\t\t\t\ttitle={`View Item ID ${this.state.itemToShow}`}\r\n\t\t\t\thandleClose={() => { this.setState({itemToShow : null}); }} >\r\n\t\t\t\t<ViewItem item={this.state.itemToShow} />\r\n\t\t\t</ConfirmModal>\r\n\t\t}\r\n\r\n\t\t{this.state.itemToEditAsRawJson &&\r\n\t\t\t<ConfirmModal show={Boolean(this.state.itemToEditAsRawJson)} \r\n\t\t\t\tsize=\"lg\"\r\n\t\t\t\ttitle={`Edit ${this.state.itemToEditAsRawJson.type} ID ${this.state.itemToEditAsRawJson.id} (as raw json)`}\r\n\t\t\t\thandleClose={() => { \r\n\t\t\t\t\tthis.conditionalRefresh();\r\n\t\t\t\t\tthis.setState({itemToEditAsRawJson : null}); }} >\r\n\t\t\t\t<EditAsRawJson itemId={this.state.itemToEditAsRawJson.id} callbackRefresh={this.notifyRefresh} />\r\n\t\t\t</ConfirmModal>\r\n\t\t}\r\n\r\n\t\t{this.state.customFormParam && \r\n\t\t\t<ConfirmModal show={Boolean(this.state.customFormParam)} \r\n\t\t\t\tsize=\"xl\"\r\n\t\t\t\ttitle={this.state.customFormParam.id? `Edit item ID ${this.state.customFormParam.id}` \r\n\t\t\t\t\t\t\t:  `Create a new object ${this.state.customFormParam.form}`  }\r\n\t\t\t\thandleClose={() => { \r\n\t\t\t\t\tthis.conditionalRefresh(); \r\n\t\t\t\t\tthis.setState({customFormParam : null}); }} >\r\n\t\t\t\t<EditCustomForm param={this.state.customFormParam} \r\n\t\t\t\t\tcallbackRefresh={this.state.customFormParam.form? null : this.notifyRefresh} />\r\n\t\t\t</ConfirmModal>\r\n  \t\t}\r\n\r\n\t\t{ this.state.data && \r\n\t\t<Table striped bordered hover size=\"sm\">\r\n\t\t\t<thead>\r\n\t\t\t\t<tr>\r\n\t\t\t\t<th>ID</th>\r\n\t\t\t\t\r\n\t\t\t\t{ this.props.showType &&\r\n\t\t\t\t\t<th>Type (Form ID)</th>\r\n  \t\t\t\t}\r\n\t\t\t\t<th>Description</th>\r\n\t\t\t\t<th>Custom form</th>\r\n\t\t\t\t<th>Simple actions</th>\r\n\t\t\t\t</tr>\r\n\t\t\t</thead>\r\n\t\t\t<tbody>\r\n\t\t\t{this.state.data.map((item) =>\r\n\t\t\t\t<tr key={item.id} >\r\n\t\t\t\t\t<td>{item.id}</td>\r\n\t\t\t\t\t{ this.props.showType &&\r\n\t\t\t\t\t\t<th>{item.type}</th>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<td>{item.description}</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t{ (item.type==='FORM') &&\r\n\t\t\t\t\t\t\t<button onClick={() => this.editCustomForm({\r\n\t\t\t\t\t\t\t\t\t\tform : item.id, \r\n\t\t\t\t\t\t\t\t\t\tsuggestedId : `${item.id}_${getTimeStamp()}`})} \r\n\t\t\t\t\t\t\t\ttitle={`New instance from the form ${item.id}`}   >\r\n\t\t\t\t\t\t\t\t{icons.plus}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{ (item.type==='FORM') &&\r\n\t\t\t\t\t\t\t<button onClick={() => this.editCustomForm({id : item.id })} title={`Edit the form definition ${item.id}`}   >\r\n\t\t\t\t\t\t\t\t{icons.gear}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{ (item.type!=='FORM') &&\r\n\t\t\t\t\t\t\t<button onClick={() => this.editCustomForm({id : item.id})} title={`Edit the object ${item.id} with the form ${item.type}`}  >\r\n\t\t\t\t\t\t\t\t{icons.memo}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td >\r\n\t\t\t\t\t\t<button onClick={() => this.editRawJson(item) } title=\"Edit raw json\" >\r\n\t\t\t\t\t\t\t{icons.pencil}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button onClick={() => this.ViewItem(item.id)} title=\"View raw json\"  >\r\n\t\t\t\t\t\t\t{icons.magnifyingGlass}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button onClick={() => this.askConfirmDelete(item.id)} title=\"Delete\" >\r\n\t\t\t\t\t\t\t{icons.wastebasket}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t)}\r\n\t\t\t</tbody>\r\n\t\t</Table>\t\t\r\n  \t\t}\r\n      </div>\r\n    );\r\n  }\r\n};\r\nexport default ManageList;"],"sourceRoot":""}